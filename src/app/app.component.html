<h1 class="page-title">Wrapper for Drugst.One</h1>

<h2 class="page-title">Upload PPI network and seeds</h2>

<div class="upload-section">
    <mat-form-field>
        <mat-label>Choose format</mat-label>
        <mat-select [(value)]="selectedFormat">
            <mat-option value="sif" [matTooltip]="sifText">.sif</mat-option>
            <mat-option value="csv" [matTooltip]="csvText">.csv</mat-option>
            <mat-option value="graphml" [matTooltip]="graphmlText">.graphml</mat-option>
        </mat-select>
    </mat-form-field>
</div>

<div class="upload-section">
    <input type="file" #interactionFileInput (change)="addInteractionFile($event)" accept=".csv, .sif, .graphml"
        id="interaction-file-input" hidden>
    <button mat-raised-button color="secondary" [matTooltip]="textPPIfile" (click)="interactionFileInput.click()">Upload Interaction
        File</button>
    <span>{{ interactionFileName }}</span>
</div>

<div class="upload-section">
    <input type="file" #seedFileInput (change)="addSeedFile($event)" accept=".csv" id="seed-file-input" hidden>
    <button mat-raised-button color="secondary" [matTooltip]="textSeedfile" (click)="seedFileInput.click()">Upload Seed File</button>
    <span>{{ seedFileName }}</span>
</div>

<div class="upload-section">
    <button mat-raised-button color="primary" [disabled]="!interactionFileName" (click)="onFileUpload()"
        class="mx-auto">Upload</button>
</div>

<div *ngIf="network.nodes.length > 0">
    <h2 class="page-title">Visualization with Drugst.One</h2>
    <drugst-one id="netexp1"
        groups='{"nodeGroups":{"important":{"type":"gene","color":"#ff881f","font":{"color":"#000000"},"groupName":"Seed","shape":"image","image":"https://www.freepnglogos.com/uploads/dna-png/dna-genetic-genome-hospital-icon-35.png"},"gene":{"type":"gene","color":"#4da300","font":{"color":"#f0f0f0"},"groupName":"Discovered target","shape":"circle"},"foundDrug":{"type":"drug","color":"#F12590","font":{"color":"#000000"},"groupName":"Drug","shape":"diamond"}},"edgeGroups":{"default":{"color":"#000000","groupName":"default edge"}}}'
        config='{"customEdges":{"default":true, "selectable":false}, "showAdvAnalysisContent":["drug-search", "drug-target-search", "gene-analysis","enrichment-gprofiler", "enrichment-digest", "search-ndex"],"identifier":"uniprot","title":"ROBUST output network", "taskDrugName": "Drug search", "showLegendNodes": true, "showLegendEdges": true, "showSidebar": "left", "showOverview": true, "legendPos": "left", "legendClass": "legend", "showQuery": true, "showItemSelector": true,"showSimpleAnalysis": true,"showAdvAnalysis": true,"showSelection": true,"showTasks": true,"showNetworkMenu": "right","showLegend": true,"showNetworkMenuButtonExpression": true, "showNetworkMenuButtonScreenshot": true,"showNetworkMenuButtonExportGraphml": true,"showNetworkMenuButtonAdjacentDrugs": true,"showNetworkMenuButtonCenter": true,"showConnectGenes": true,"networkMenuButtonAdjacentDrugsLabel": "Drugs","showNetworkMenuButtonAdjacentDisordersProteins": true,"networkMenuButtonAdjacentDisordersProteinsLabel": "Disorders (protein)","showNetworkMenuButtonAdjacentDisordersDrugs": true,"networkMenuButtonAdjacentDisordersDrugsLabel": "Disorders (drug)","showNetworkMenuButtonAnimation": true,"networkMenuButtonAnimationLabel": "Animation", "autofillEdges": false, "useNedrexLicenced": true,"selfReferences": false, "interactionDrugProtein": "NeDRex", "indicationDrugDisorder": "NeDRex","nodeShadow": true,"edgeShadow": true, "algorithms": {"drug": ["trustrank", "closeness", "degree", "proximity"], "drug-target": ["trustrank", "multisteiner", "keypathwayminer", "degree", "closeness", "betweenness"], "gene":["pathway-enrichment", "louvain-clustering"]}, "associatedProteinDisorder": "NeDRex", "nodeGroups":{"overlap":{"color":"#FC6C85","shape":"circle","type":"gene","font":{"color":"#000000"},"groupName":"overlap"},"onlyNetwork":{"color":"#ffff00","shape":"circle","type":"gene","font":{"color":"#000000"},"groupName":"only in network"},"onlyPathway":{"color":"#ffa500","shape":"circle","type":"gene","font":{"color":"#000000"},"groupName":"only in pathway"}, "important":{"type":"gene","color":"#ff881f","font":{"color":"#000000"},"groupName":"Seed","shape":"star"},"gene":{"type":"gene","color":"#4da300","font":{"color":"#f0f0f0"},"groupName":"Discovered target","shape":"circle"},"foundDrug":{"type":"drug","color":"#F12590","font":{"color":"#000000"},"groupName":"Drug","shape":"diamond"}},"edgeGroups":{"default":{"color":"#000000","groupName":"default edge"}}}'
        [network]="network">
    </drugst-one>
</div>